<div class="label-generation-page">
  <div class="page-header">
    <h2>Generate Label</h2>
    <p>Generate and manage labels for containers and items</p>
  </div>

  <div class="expandable-panel">
    <div class="panel-header" (click)="toggleFormPanel()">
      <h3>Generate & Print Label</h3>
      <button class="toggle-btn" type="button">
        <svg class="toggle-icon" [class.rotated]="isFormExpanded()" viewBox="0 0 24 24" fill="currentColor">
          <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
        </svg>
      </button>
    </div>
    <div class="panel-content" [class.expanded]="isFormExpanded()">
      <div class="label-form-container">
        <form [formGroup]="labelForm" (ngSubmit)="onGeneratePrint()" class="label-form">
          <div class="form-row-three">
            <div class="form-group">
              <label for="labelType">Label Type</label>
              <select id="labelType" formControlName="labelType">
                <option value="Container">Container</option>
                <option value="Item">Item</option>
              </select>
            </div>
            <div class="form-group">
              <label for="lastPrintedLabel">Last Printed Label Value</label>
              <input id="lastPrintedLabel" type="text" formControlName="lastPrintedLabel" />
            </div>
            <div class="form-group">
              <label for="labelStatus">Label Status</label>
              <select id="labelStatus" formControlName="labelStatus">
                <option value="Created">Created</option>
                <option value="Printed">Printed</option>
                <option value="Used">Used</option>
              </select>
            </div>
          </div>
          <div class="form-actions">
            <button type="submit" class="primary-btn">Generate & Print</button>
            <button type="button" class="secondary-btn" (click)="onPrintLabel()">Print Label</button>
            <button type="button" class="reset-btn" (click)="onReset()">Reset</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="quick-actions-panel">
    <div class="panel-header" (click)="toggleQuickActionsPanel()">
      <h3>Quick Actions</h3>
      <button class="toggle-btn" type="button">
        <svg class="toggle-icon" [class.rotated]="isQuickActionsExpanded()" viewBox="0 0 24 24" fill="currentColor">
          <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
        </svg>
      </button>
    </div>
    <div class="panel-content" [class.expanded]="isQuickActionsExpanded()">
      <button class="quick-action-btn" (click)="onViewAllLabels()">View all labels</button>
      <div *ngIf="showLabelsGrid" class="labels-grid-panel">
        <div class="grid-header">
          <h3>View all labels</h3>
          <button class="close-btn" type="button" (click)="onCloseLabelsGrid()" title="Close">&times;</button>
        </div>
        <table class="labels-grid">
          <thead>
            <tr>
              <th>Label Type</th>
              <th>ID</th>
              <th>Label Value</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let label of labels">
              <td>{{ label.labelType }}</td>
              <td>{{ label.id }}</td>
              <td>{{ label.labelValue }}</td>
              <td>{{ label.status }}</td>
              <td>
                <button class="action-btn edit" (click)="onEditLabel(label)">Edit</button>
                <button class="action-btn delete" (click)="onDeleteLabel(label)">Delete</button>
                <button class="action-btn print" (click)="onPrintLabelRow(label)">Print</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
